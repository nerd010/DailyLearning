
## 目录

1. [配置环境](#配置环境)
2. [下载 fabric](#下载-fabric)
3. [下载 docker images](#下载-docker-images)
4. [安装 docker swarm, 初始化 manager 节点，joined worker 节点](#安装-docker-swarm)
5. [安装 portainer （可选）](#安装-portainer-可选)
6. [为各个节点编写 .yaml 文件](#为各个节点编写-yaml-文件)
7. [生成 crypto-config  文件夹](#生成-crypto-config-文件夹)
8. [生成 channel-artifacts 文件夹](#生成-channel-artifacts-文件夹)
9. [将编写的 `.yaml` 文件放到同一个文件夹（我选择放在当前用户的根目录下，可自己定）](#将编写的-yaml-文件放到同一个文件夹-可自己定)
10. [使用 docker swarm 命令按顺序启动各节点](#使用-docker-swarm-命令按顺序启动各节点)
11. [进入 cli 执行安装智能合约的测试](#进入-cli-执行安装智能合约的测试)

### 配置环境

-o, --orderer <string>

where <string> is the fully qualified address and port of the orderer with whom the peer is communicating. If the port is not specified, it will default to port 7050.

--ordererTLSHostnameOverride <string>

where <string> is the hostname override to use when using TLS to communicate with the orderer specified by the --orderer flag. It is necessary to use this flag when the TLS handshake phase of communications between the peer and the orderer uses a different hostname than the subsequent message exchange phase. Use in conjunction with the --tls flag.

--tls

Use this flag to enable TLS communications with an orderer. The certificates identified by --cafile will be used by TLS to authenticate the orderer.

Usage
Here’s an example that uses the --orderer global flag on the peer channel create command.

Create a sample channel mychannel defined by the configuration transaction contained in file ./createchannel.txn. Use the orderer at orderer.example.com:7050.

peer channel create -c mychannel -f ./createchannel.txn --orderer orderer.example.com:7050

2018-02-25 08:23:57.548 UTC [channelCmd] InitCmdFactory -> INFO 003 Endorser and orderer connections initialized
2018-02-25 08:23:57.626 UTC [channelCmd] InitCmdFactory -> INFO 019 Endorser and orderer connections initialized
2018-02-25 08:23:57.834 UTC [channelCmd] readBlock -> DEBU 020 Received block: 0
2018-02-25 08:23:57.835 UTC [main] main -> INFO 021 Exiting.....
Block 0 is returned indicating that the channel has been successfully created.

peer channel create
Create Description
The peer channel create command allows administrators to create a new channel. This command connects to an orderer to perform this function – it is not performed on the peer, even though the peer command is used.

To create a channel, the administrator uses the command to submit a configuration update transaction to the orderer. This transaction describes the configuration changes required to create a new channel. Moreover, this transaction must be signed by the required organizations as defined by the current orderer configuration. Configuration transactions can be generated by the configtxgen command and signed by the peer channel signconfigtx command.

Create Syntax
The peer channel create command has the following syntax:

peer channel create [flags]
Create Flags
The peer channel create command has the following command specific flags:

-c, --channelID <string>

required, where <string> is the name of the channel which is to be created.

-f, --file <string>

required, where <string> identifies a file which contains the configuration transaction required to create this channel. It can be generated by configtxgen command.

-t, --timeout <integer>

optional, where <integer> specifies channel creation timeout in seconds. If not specified, the default is 5 seconds. Note that if the command times out, then the channel may or may not have been created.












### 下载 fabric


For brevity, we often refer to a command (peer), a subcommand (channel), or subcommand option (fetch) simply as a command.

The different command options (create, fetch...) relate to the different channel operations that are relevant to a peer. For example, use the peer channel join command to join a peer to a channel, or the peer channel list command to show the channels to which a peer is joined.

Each peer channel subcommand is described together with its options in its own section in this topic.

Flags
Each peer channel command option has a set of flags specific to it, and these are described with the relevant subcommand option.

All peer channel command options also have a set of global flags that can be applied to peer channel command options.

The global flags are as follows:

--cafile <string>

where <string> is a fully qualified path to a file containing a PEM-encoded certificate chain of the Certificate Authority of the orderer with whom the peer is communicating. Use in conjunction with the --tls flag.

--certfile <string>

where <string> is a fully qualified path to a file containing a PEM-encoded X.509 certificate used for mutual authentication with the orderer. Use in conjunction with the --clientauth flag.

--clientauth

Use this flag to enable mutual TLS communication 













### 下载 docker images

For brevity, we often refer to a command (peer), a subcommand (channel), or subcommand option (fetch) simply as a command.

The different command options (create, fetch...) relate to the different channel operations that are relevant to a peer. For example, use the peer channel join command to join a peer to a channel, or the peer channel list command to show the channels to which a peer is joined.

Each peer channel subcommand is described together with its options in its own section in this topic.

Flags
Each peer channel command option has a set of flags specific to it, and these are described with the relevant subcommand option.

All peer channel command options also have a set of global flags that can be applied to peer channel command options.

The global flags are as follows:

--cafile <string>

where <string> is a fully qualified path to a file containing a PEM-encoded certificate chain of the Certificate Authority of the orderer with whom the peer is communicating. Use in conjunction with the --tls flag.

--certfile <string>

where <string> is a fully qualified path to a file containing a PEM-encoded X.509 certificate used for mutual authentication with the orderer. Use in conjunction with the --clientauth flag.

--clientauth

Use this flag to enable mutual TLS communication 


